(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d3e1cca"],{1799:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{directives:[{name:"show",rawName:"v-show",value:t.pages.total_pages>1,expression:"pages.total_pages > 1"}],attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"mt-5 pagination d-flex justify-content-center"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Go to first page"},on:{click:function(e){return e.preventDefault(),t.emitPages(1)}}},[t._m(0)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[t._m(1)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page>Math.ceil(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page > Math.ceil(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(2)]),t._l(t.pagesShown,(function(e,s){return a("li",{key:s,staticClass:"page-item",class:{active:e===t.pages.current_page,disabled:e===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.emitPages(e)}}},[t._v(t._s(e))])])})),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page<t.pages.total_pages-Math.floor(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page < pages.total_pages - Math.floor(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(3)]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[t._m(4)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.total_pages)}}},[t._m(5)])])],2)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-double-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-double-right"})])}],r=(a("a630"),a("3ca3"),{data:function(){return{numOfShown:5}},computed:{pagesShown:function(){var t=this;return this.pages.total_pages<=this.numOfShown+1?Array.from({length:this.pages.total_pages},(function(t,e){return e+1})):this.pages.current_page<Math.ceil(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(t,e){return e+1})):this.pages.current_page>this.pages.total_pages-Math.floor(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(e,a){return a+t.pages.total_pages-t.numOfShown+1})):Array.from({length:this.numOfShown},(function(e,a){return a+t.pages.current_page-Math.floor(t.numOfShown/2)}))}},props:{pages:{type:Object,default:function(){return{}}}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}}),n=r,c=(a("5eaf"),a("2877")),o=Object(c["a"])(n,s,i,!1,null,null,null);e["a"]=o.exports},2532:function(t,e,a){"use strict";var s=a("23e7"),i=a("5a34"),r=a("1d80"),n=a("ab13");s({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"2aa4":function(t,e,a){},"3ca3":function(t,e,a){"use strict";var s=a("6547").charAt,i=a("69f3"),r=a("7dd0"),n="String Iterator",c=i.set,o=i.getterFor(n);r(String,"String",(function(t){c(this,{type:n,string:String(t),index:0})}),(function(){var t,e=o(this),a=e.string,i=e.index;return i>=a.length?{value:void 0,done:!0}:(t=s(a,i),e.index+=t.length,{value:t,done:!1})}))},"44e7":function(t,e,a){var s=a("861d"),i=a("c6b6"),r=a("b622"),n=r("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==i(t))}},"4df4":function(t,e,a){"use strict";var s=a("0366"),i=a("7b0b"),r=a("9bdd"),n=a("e95a"),c=a("50c4"),o=a("8418"),l=a("35a1");t.exports=function(t){var e,a,u,p,d,g,h=i(t),f="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,_=void 0!==m,w=l(h),C=0;if(_&&(m=s(m,v>2?arguments[2]:void 0,2)),void 0==w||f==Array&&n(w))for(e=c(h.length),a=new f(e);e>C;C++)g=_?m(h[C],C):h[C],o(a,C,g);else for(p=w.call(h),d=p.next,a=new f;!(u=d.call(p)).done;C++)g=_?r(p,m,[u.value,C],!0):u.value,o(a,C,g);return a.length=C,a}},"5a34":function(t,e,a){var s=a("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5eaf":function(t,e,a){"use strict";var s=a("2aa4"),i=a.n(s);i.a},7828:function(t,e,a){"use strict";var s=a("a4e7"),i=a.n(s);i.a},8247:function(t,e,a){"use strict";var s=a("eba7"),i=a.n(s);i.a},a4e7:function(t,e,a){},a630:function(t,e,a){var s=a("23e7"),i=a("4df4"),r=a("1c7e"),n=!r((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:n},{from:i})},ab13:function(t,e,a){var s=a("b622"),i=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,"/./"[t](e)}catch(s){}}return!1}},caad:function(t,e,a){"use strict";var s=a("23e7"),i=a("4d64").includes,r=a("44d2"),n=a("ae40"),c=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e6dc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"home-warpper",staticClass:"home-wrapper"},[a("div",{ref:"overlay-loading",staticClass:"overlay-loading"}),a("div",{ref:"home",staticClass:"home mx-auto"},[a("div",{staticClass:"products"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 col-lg-2 category-wrapper"},[a("div",{staticClass:"products-category"},[a("div",{staticClass:"title"},[t._v("商品分類")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=1")}}},[a("i",{staticClass:"fas fa-utensils"}),t._v(" 廚房餐桌 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=2")}}},[a("i",{staticClass:"fas fa-couch"}),t._v(" 空間佈置 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=3")}}},[a("i",{staticClass:"fas fa-laptop-house"}),t._v(" 質感生活 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=4")}}},[a("i",{staticClass:"fas fa-tshirt"}),t._v(" 品味衣著 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=5")}}},[a("i",{staticClass:"fas fa-pencil-ruler"}),t._v(" 文具小物 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=6")}}},[a("i",{staticClass:"fas fa-cocktail"}),t._v(" 食品飲料 ")]),a("li",{staticClass:"list-group-item",on:{click:function(e){return t.$router.push("/category?n=7")}}},[a("i",{staticClass:"fas fa-hiking"}),t._v(" 戶外休閒 ")])])])]),a("div",{staticClass:"col-12 col-md-9 col-lg-10 d-flex justify-content-center"},[t.products.length>0?a("div",{staticClass:"hot-sales w-100 row d-flex align-items-center"},[a("div",{staticClass:"col-12 col-sm-6 hot-swiper-wrapper"},[a("div",{staticClass:"outer-title"},[t._v("本月熱賣 TOP 5")]),a("hot-swiper",{attrs:{products:t.hotProducts}})],1),a("div",{staticClass:"col-12 col-sm-6 rank-wrapper"},[a("div",{staticClass:"title"},[t._v("本月熱賣 TOP 5")]),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.hotProducts,(function(e,s){return a("li",{key:"top-5-"+e.id,staticClass:"list-group-item d-flex flex-row",on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[a("div",{staticClass:"rank"},[t._v(t._s("0"+(s+1)))]),a("div",{staticClass:"image-wrapper"},[a("div",{staticClass:"image",style:"background: url("+e.imageUrl[0]+") no-repeat center/contain;"})]),a("span",{staticClass:"title"},[t._v(t._s(e.title))])])})),0)])]):t._e()])]),a("div",{staticClass:"row w-100"},[a("div",{staticClass:"col-0 col-xl-2"}),a("div",{staticClass:"card-decks-wrapper col-12 col-xl-10"},[a("div",{staticClass:"title"},[t._v("熱賣商品")]),t._l(5,(function(e){return a("div",{key:"row_"+e},[t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length>0?a("div",{staticClass:"card-deck"},[t._l(t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow),(function(e){return a("div",{key:e.id,staticClass:"card my-5",attrs:{id:e.id},on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[a("div",{staticClass:"img-wrapper"},[a("div",{staticClass:"card-img-top",style:"background: url("+e.imageUrl[0]+") no-repeat center/contain;"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:.85>e.price/e.origin_price,expression:"0.85 > item.price/item.origin_price"}],staticClass:"discount-badge"},[t._v(t._s(10*(e.price/e.origin_price).toFixed(1)+" 折")+" ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-content"},[a("p",{staticClass:"card-title"},[t._v(t._s(e.title))]),a("div",{staticClass:"rating w-100 d-flex align-items-center"},[t._l(e.rating.rate,(function(t,e){return a("span",{key:e,staticClass:"star-item",class:t})})),a("span",{staticClass:"count"},[t._v(t._s("("+e.rating.count+")"))])],2),a("div",{staticClass:"price-wrapper"},[a("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])])])]),t.windowWidth>=992?a("b-popover",{ref:"popover-"+e.id,refInFor:!0,attrs:{target:e.id,triggers:"hover focus",placement:"right"}},[a("div",{staticClass:"popper-wrapper"},[a("div",{staticClass:"popper-title mt-3"},[t._v(" "+t._s(e.title)+" ")]),e.options.event?t._e():a("div",[a("span",{staticClass:"btn btn-light popper-badge",on:{click:function(a){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")])]),e.options.event?a("div",[a("span",{staticClass:"btn btn-light popper-badge",on:{click:function(a){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")]),t._l(e.options.event.split(" "),(function(e,s){return a("span",{key:"event_"+s,staticClass:"btn btn-light popper-badge",on:{click:function(a){return t.$router.push("/search?key="+e)}}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),a("div",{staticClass:"popper-content mt-2"},[a("div",{domProps:{innerHTML:t._s(e.content)}})]),a("div",{staticClass:"popper-star mt-3"},t._l(e.rating.rate,(function(t,e){return a("span",{key:e,staticClass:"star-item",class:t})})),0),a("div",{staticClass:"popper-price mt-3"},[a("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])]),t.cartId.includes(e.id)?t._e():a("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(a){return t.addToCart(e)}}},[a("span",[t._v("放入購物車")])]),t.cartId.includes(e.id)?a("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(e){return t.$router.push("/cart")}}},[a("span",[t._v("立刻結帳")])]):t._e()])]):t._e()],1)})),t._l(t.numCardsRow-t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length,(function(t){return a("div",{key:"surplus_"+t,staticClass:"card my-5 border-0 no-use"})}))],2):t._e()])})),a("pagination",{staticClass:"pagination-wrapper",attrs:{pages:t.pagination},on:{"emit-pages":t.getProducts}})],2)])])])])},i=[],r=(a("99af"),a("4160"),a("caad"),a("d81d"),a("2532"),a("159b"),a("3828")),n=a("7de3"),c=a.n(n),o=(a("bbe3"),a("1799")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.products.slice(0,5),(function(e,s){return a("div",{key:"top-5-swiper-"+e.id,staticClass:"swiper-slide",style:"background: url("+e.imageUrl[0]+") no-repeat center/contain;",on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[a("div",{staticClass:"title"},[a("div",{staticClass:"rank"},[t._v(t._s("0"+(s+1)+" |"))]),a("div",{staticClass:"name"},[t._v(t._s(e.title))])])])})),0),a("div",{staticClass:"swiper-pagination"})])])},u=[],p={data:function(){return{}},props:{products:Array},mounted:function(){new c.a(".swiper-container",{centeredSlides:!0,spaceBetween:"1%",autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(t,e){return'<span class="'+e+'">'+(t+1)+"</span>"}}})}},d=p,g=(a("7828"),a("2877")),h=Object(g["a"])(d,l,u,!1,null,null,null),f=h.exports,v={name:"products",data:function(){return{products:[],hotProducts:[],cart:{},pagination:{},isLoading:!1,windowWidth:window.innerWidth}},components:{pagination:o["a"],hotSwiper:f,"b-popover":r["a"]},computed:{cartId:function(){return this.cart.length>0?this.cart.map((function(t){return t.product.id})):[]},numCardsRow:function(){return this.windowWidth>=576&&this.windowWidth<768?3:this.windowWidth>=768?4:2}},created:function(){var t=this;this.getProducts(),this.getCart(),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},methods:{getSwiper:function(){this.mySwiper=new c.a(".hot-sales.swiper-container",{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(t,e){return'<span class="'+e+'">'+(t+1)+"</span>"}}})},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),s="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/products?paged=16&page=").concat(e);this.$http.get(s).then((function(s){if(t.products=s.data.data,t.products.forEach((function(e){e.rating=t.rating()})),1===e&&0===t.hotProducts.length)for(var i=0;i<5;i++){var r=t.products[Math.floor(Math.random()*t.products.length)],n=t.hotProducts.map((function(t){return t.id}));n.includes(r.id)?i-=1:t.hotProducts.push(r)}t.getSwiper(),t.pagination=s.data.meta.pagination,a.hide()}))},getCart:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping");this.$http.get(a).then((function(a){e.cart=a.data.data,e.$bus.$emit("cartUpdate",{cart:e.cart}),t&&t.hide()}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),i="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping"),r={product:t.id,quantity:a};this.$http.post(i,r).then((function(){e.getCart(s),e.$refs["popover-".concat(t.id)][0].$emit("close")})).catch((function(t){console.log(t)}))},rating:function(){for(var t={rate:[],count:0},e=Math.floor(2.5*(2.5+2*Math.random()))/2,a=0;a<Math.floor(e);a++)t.rate.push("on");e%1!==0&&t.rate.push("half");while(t.rate.length<5)t.rate.push("off");return t.count=Math.floor(50+500*Math.random()),t}}},m=v,_=(a("8247"),Object(g["a"])(m,s,i,!1,null,null,null));e["default"]=_.exports},eba7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0d3e1cca.3b8fbabe.js.map