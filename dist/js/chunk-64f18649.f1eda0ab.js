(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64f18649"],{1799:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"mt-5 pagination d-flex justify-content-center"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Go to first page"},on:{click:function(e){return e.preventDefault(),t.emitPages(1)}}},[t._m(0)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[t._m(1)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page>Math.ceil(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page > Math.ceil(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(2)]),t._l(t.pagesShown,(function(e,n){return a("li",{key:n,staticClass:"page-item",class:{active:e===t.pages.current_page,disabled:e===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.emitPages(e)}}},[t._v(t._s(e))])])})),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page<t.pages.total_pages-Math.floor(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page < pages.total_pages - Math.floor(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(3)]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[t._m(4)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.total_pages)}}},[t._m(5)])])],2)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-double-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fas fa-angle-double-right"})])}],i=(a("a630"),a("3ca3"),{data:function(){return{numOfShown:5}},computed:{pagesShown:function(){var t=this;return this.pages.total_pages<=this.numOfShown+1?Array.from({length:this.pages.total_pages},(function(t,e){return e+1})):this.pages.current_page<Math.ceil(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(t,e){return e+1})):this.pages.current_page>this.pages.total_pages-Math.floor(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(e,a){return a+t.pages.total_pages-t.numOfShown+1})):Array.from({length:this.numOfShown},(function(e,a){return a+t.pages.current_page-Math.floor(t.numOfShown/2)}))}},props:{pages:{type:Object,default:function(){return{}}}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}}),r=i,o=(a("5eaf"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},"2aa4":function(t,e,a){},"3ca3":function(t,e,a){"use strict";var n=a("6547").charAt,s=a("69f3"),i=a("7dd0"),r="String Iterator",o=s.set,c=s.getterFor(r);i(String,"String",(function(t){o(this,{type:r,string:String(t),index:0})}),(function(){var t,e=c(this),a=e.string,s=e.index;return s>=a.length?{value:void 0,done:!0}:(t=n(a,s),e.index+=t.length,{value:t,done:!1})}))},"461b":function(t,e,a){},"4df4":function(t,e,a){"use strict";var n=a("0366"),s=a("7b0b"),i=a("9bdd"),r=a("e95a"),o=a("50c4"),c=a("8418"),l=a("35a1");t.exports=function(t){var e,a,u,p,d,f,g=s(t),h="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v,w=l(g),b=0;if(_&&(v=n(v,m>2?arguments[2]:void 0,2)),void 0==w||h==Array&&r(w))for(e=o(g.length),a=new h(e);e>b;b++)f=_?v(g[b],b):g[b],c(a,b,f);else for(p=w.call(g),d=p.next,a=new h;!(u=d.call(p)).done;b++)f=_?i(p,v,[u.value,b],!0):u.value,c(a,b,f);return a.length=b,a}},"5eaf":function(t,e,a){"use strict";var n=a("2aa4"),s=a.n(n);s.a},8418:function(t,e,a){"use strict";var n=a("c04e"),s=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var r=n(e);r in t?s.f(t,r,i(0,a)):t[r]=a}},"99af":function(t,e,a){"use strict";var n=a("23e7"),s=a("d039"),i=a("e8b5"),r=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),p=a("1dde"),d=a("b622"),f=a("2d00"),g=d("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=f>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),_=p("concat"),w=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},b=!v||!_;n({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,n,s,i,r=o(this),p=u(r,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?r:arguments[e],w(i)){if(s=c(i.length),d+s>h)throw TypeError(m);for(a=0;a<s;a++,d++)a in i&&l(p,d,i[a])}else{if(d>=h)throw TypeError(m);l(p,d++,i)}return p.length=d,p}})},a630:function(t,e,a){var n=a("23e7"),s=a("4df4"),i=a("1c7e"),r=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:s})},b06d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backend-orders-wrapper"},[a("loading",{attrs:{active:t.isLoading,loader:"bars","is-full-page":!1,opacity:1,"background-color":"#e5e5e5"},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{ref:"backend-orders",staticClass:"backend-orders"},[a("div",{staticClass:"table-wrapper"},[a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id},[e.created?a("td",{staticClass:"order-created-time"},[t._v(t._s(e.created.datetime))]):t._e(),a("td",{staticClass:"order-products"},[a("ul",{staticClass:"list-group"},t._l(e.products,(function(e,n){return a("li",{key:n,staticClass:"list-group-item list-group-item-action list-group-item-light d-flex justify-content-between"},[a("span",[t._v(t._s(e.product.title))]),a("span",[t._v(t._s(e.quantity+" "+e.product.unit))])])})),0)]),a("td",[t._v(t._s(e.payment))]),e.amount?a("td",[t._v(t._s(t._f("priceFormat")(Math.ceil(e.amount))))]):t._e(),a("td",{staticClass:"ispaid"},[a("div",{staticClass:"onoffswitch mx-auto align-middle"},[a("input",{staticClass:"onoffswitch-checkbox",class:{checked:e.paid},attrs:{type:"checkbox",name:"onoffswitch",id:"switch-"+e.id,tabindex:"0",checked:""},on:{click:function(a){return t.setOrderPaid(e)}}}),a("label",{staticClass:"onoffswitch-label",attrs:{for:"switch-"+e.id}})]),a("div",{staticClass:"ispaid-text"},[e.paid?a("span",{staticClass:"paid"},[t._v("已付款")]):t._e(),e.paid?t._e():a("span",{staticClass:"unpaid"},[t._v("尚未付款")])])])])})),0)])])]),a("pagination",{staticClass:"pagination-wrapper",attrs:{pages:t.pagination},on:{"emit-pages":t.getOrders}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",[t._v("下單時間")]),a("th",[t._v("購買款項")]),a("th",[t._v("付款方式")]),a("th",[t._v("應付金額")]),a("th",[t._v("是否付款")])])])}],i=(a("99af"),a("1157")),r=a.n(i),o=a("1799"),c={name:"Orders",data:function(){return{orders:[],pagination:{},isLoading:!1,tempProduct:{imageUrl:[],enabled:!1},isNew:!1}},components:{pagination:o["a"]},created:function(){this.getOrders()},methods:{getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/admin/ec/orders?page=").concat(e);this.$http.get(a).then((function(e){t.orders=e.data.data,t.pagination=e.data.meta.pagination,t.isLoading=!1}))},setOrderPaid:function(t){var e=this,a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/admin/ec/orders/").concat(t.id,"/paid");t.paid&&(a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/admin/ec/orders/").concat(t.id,"/unpaid")),this.$http.patch(a,t.id).then((function(){e.getOrders()}))},toolTip:function(){r()('[data-toggle="tooltip"]').tooltip()}}},l=c,u=(a("de35"),a("2877")),p=Object(u["a"])(l,n,s,!1,null,null,null);e["default"]=p.exports},de35:function(t,e,a){"use strict";var n=a("461b"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-64f18649.f1eda0ab.js.map