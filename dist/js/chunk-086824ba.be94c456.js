(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-086824ba"],{"141e":function(t,e,i){"use strict";var s=i("885f"),a=i.n(s);a.a},4886:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"home",staticClass:"home mx-auto"},[i("div",{ref:"overlay-loading",staticClass:"overlay-loading"}),i("div",{staticClass:"category"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-3 col-lg-2 category-wrapper"},[i("div",{staticClass:"side-category"},[i("div",{staticClass:"title"},[t._v("商品分類")]),i("ul",{staticClass:"list-group list-group-flush"},[i("div",{staticClass:"back",on:{click:function(e){return t.$router.push("/products")}}},[i("i",{staticClass:"fas fa-angle-left"}),i("span",{staticClass:"text"},[t._v("所有分類")])]),"1"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-utensils"}),t._v(" 廚房餐桌 ")]):t._e(),"2"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-couch"}),t._v(" 空間佈置 ")]):t._e(),"3"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-laptop-house"}),t._v(" 質感生活 ")]):t._e(),"4"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-tshirt"}),t._v(" 品味衣著 ")]):t._e(),"5"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-pencil-ruler"}),t._v(" 文具小物 ")]):t._e(),"6"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-cocktail"}),t._v(" 食品飲料 ")]):t._e(),"7"===t.$route.query.n?i("li",{staticClass:"list-group-item"},[i("i",{staticClass:"fas fa-hiking"}),t._v(" 戶外休閒 ")]):t._e()])])]),i("div",{staticClass:"col-12 col-md-9 col-lg-10 card-decks-wrapper d-flex flex-column justify-content-center",class:{"only-one":t.products.length<=t.numCardsRow}},[i("div",{staticClass:"router-wrapper"},[i("router-link",{attrs:{to:"/"}},[i("span",{staticClass:"mr-2 router"},[t._v("首頁")])]),i("i",{staticClass:"fas fa-angle-right"}),i("span",{staticClass:"mx-2"},[t._v(t._s(t.name[t.$route.query.n]))])],1),i("div",{staticClass:"title"},[t._v(t._s(t.name[t.$route.query.n]))]),t._l(Math.ceil(t.products.length/t.numCardsRow),(function(e){return i("div",{key:"row_"+e},[t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length>0?i("div",{staticClass:"card-deck"},[t._l(t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow),(function(e){return i("div",{key:e.id,staticClass:"card my-5",attrs:{id:e.id},on:{click:function(i){return t.$router.push("/product/"+e.id)}}},[i("div",{staticClass:"img-wrapper"},[i("div",{staticClass:"card-img-top",style:"background: url("+e.imageUrl[0]+") no-repeat center/contain;"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:.85>e.price/e.origin_price,expression:"0.85 > item.price/item.origin_price"}],staticClass:"discount-badge"},[t._v(t._s(10*(e.price/e.origin_price).toFixed(1)+" 折")+" ")]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"card-content"},[i("p",{staticClass:"card-title"},[t._v(t._s(e.title))]),i("div",{staticClass:"rating w-100 d-flex align-items-center"},[t._l(e.rating.rate,(function(t,e){return i("span",{key:e,staticClass:"star-item",class:t})})),i("span",{staticClass:"count"},[t._v(t._s("("+e.rating.count+")"))])],2),i("div",{staticClass:"price-wrapper"},[i("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])])])]),t.windowWidth>=992?i("b-popover",{ref:"popover-"+e.id,refInFor:!0,attrs:{target:e.id,triggers:"hover focus",placement:"right"}},[i("div",{staticClass:"popper-wrapper"},[i("div",{staticClass:"popper-title mt-3"},[t._v(" "+t._s(e.title)+" ")]),e.options.event?t._e():i("div",[i("span",{staticClass:"btn btn-light popper-badge",on:{click:function(i){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")])]),e.options.event?i("div",[i("span",{staticClass:"btn btn-light popper-badge",on:{click:function(i){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")]),t._l(e.options.event.split(" "),(function(e,s){return i("span",{key:"event_"+s,staticClass:"btn btn-light popper-badge",on:{click:function(i){return t.$router.push("/search?key="+e)}}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),i("div",{staticClass:"popper-content mt-2"},[i("div",{domProps:{innerHTML:t._s(e.content)}})]),i("div",{staticClass:"popper-star mt-3"},t._l(e.rating.rate,(function(t,e){return i("span",{key:e,staticClass:"star-item",class:t})})),0),i("div",{staticClass:"popper-price mt-3"},[i("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])]),t.cartId.includes(e.id)?t._e():i("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(i){return t.addToCart(e)}}},[i("span",[t._v("放入購物車")])]),t.cartId.includes(e.id)?i("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(e){return t.$router.push("/cart")}}},[i("span",[t._v("立刻結帳")])]):t._e()])]):t._e()],1)})),t._l(t.numCardsRow-t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length,(function(t){return i("div",{key:"surplus_"+t,staticClass:"card my-5 border-0 no-use"})}))],2):t._e()])}))],2)]),t._m(0)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row w-100"},[i("div",{staticClass:"col-0 col-xl-2"})])}],r=(i("99af"),i("4de4"),i("4160"),i("d81d"),i("b0c0"),i("a9e3"),i("159b"),i("3828")),n=(i("bbe3"),{name:"category",data:function(){return{name:{1:"廚房餐桌",2:"空間佈置",3:"質感生活",4:"品味衣著",5:"文具小物",6:"食品飲料",7:"戶外休閒"},products:[],cart:{},randomRating:{rate:[],count:Number},windowWidth:window.innerWidth}},components:{"b-popover":r["a"]},computed:{cartId:function(){return this.cart.length>0?this.cart.map((function(t){return t.product.id})):[]},numCardsRow:function(){return this.windowWidth>=576&&this.windowWidth<992?3:this.windowWidth>=992?4:2}},created:function(){},mounted:function(){var t=this;this.getProducts(),this.getCart(),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},beforeRouteUpdate:function(t,e,i){i(),this.getProducts()},methods:{getProducts:function(t){var e=this,i=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),s="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/products?paged=999");this.$http.get(s).then((function(t){e.products=t.data.data,e.products=e.products.filter((function(t){return t.category===e.name[e.$route.query.n]})),e.products.forEach((function(t){t.rating=e.rating()})),i.hide()}))},getCart:function(t){var e=this,i="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping");this.$http.get(i).then((function(i){e.cart=i.data.data,e.$bus.$emit("cartUpdate",{cart:e.cart}),t&&t.hide()}))},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping"),r={product:t.id,quantity:i};this.$http.post(a,r).then((function(){e.getCart(s),e.$refs["popover-".concat(t.id)][0].$emit("close")})).catch((function(t){console.log(t)}))},rating:function(){for(var t={rate:[],count:0},e=Math.floor(2.5*(2.5+2*Math.random()))/2,i=0;i<Math.floor(e);i++)t.rate.push("on");e%1!==0&&t.rate.push("half");while(t.rate.length<5)t.rate.push("off");return t.count=Math.floor(50+500*Math.random()),t}}}),c=n,o=(i("141e"),i("2877")),u=Object(o["a"])(c,s,a,!1,null,null,null);e["default"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),a=i("5899"),r="["+a+"]",n=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),o=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(n,"")),2&t&&(i=i.replace(c,"")),i}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,e,i){var s=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var r,n;return a&&"function"==typeof(r=e.constructor)&&r!==i&&s(n=r.prototype)&&n!==i.prototype&&a(t,n),t}},"885f":function(t,e,i){},a9e3:function(t,e,i){"use strict";var s=i("83ab"),a=i("da84"),r=i("94ca"),n=i("6eeb"),c=i("5135"),o=i("c6b6"),u=i("7156"),l=i("c04e"),d=i("d039"),p=i("7c73"),f=i("241c").f,h=i("06cf").f,g=i("9bf2").f,v=i("58a8").trim,_="Number",m=a[_],C=m.prototype,w=o(p(C))==_,b=function(t){var e,i,s,a,r,n,c,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+u}for(r=u.slice(2),n=r.length,c=0;c<n;c++)if(o=r.charCodeAt(c),o<48||o>a)return NaN;return parseInt(r,s)}return+u};if(r(_,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var y,$=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof $&&(w?d((function(){C.valueOf.call(i)})):o(i)!=_)?u(new m(b(e)),i,$):b(e)},k=s?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;k.length>I;I++)c(m,y=k[I])&&!c($,y)&&g($,y,h(m,y));$.prototype=C,C.constructor=$,n(a,_,$)}},b0c0:function(t,e,i){var s=i("83ab"),a=i("9bf2").f,r=Function.prototype,n=r.toString,c=/^\s*function ([^ (]*)/,o="name";s&&!(o in r)&&a(r,o,{configurable:!0,get:function(){try{return n.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-086824ba.be94c456.js.map