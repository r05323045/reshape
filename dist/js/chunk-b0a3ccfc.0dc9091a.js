(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0a3ccfc"],{"057f":function(t,e,r){var n=r("fc6a"),i=r("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?c(t):i(n(t))}},"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3");var n=r("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},1276:function(t,e,r){"use strict";var n=r("d784"),i=r("44e7"),o=r("825a"),a=r("1d80"),c=r("4840"),s=r("8aa5"),u=r("50c4"),l=r("14c3"),d=r("9263"),f=r("d039"),p=[].push,h=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(a(this)),o=void 0===r?v:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,o);var c,s,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,f+"g");while(c=d.call(g,n)){if(s=g.lastIndex,s>h&&(l.push(n.slice(h,c.index)),c.length>1&&c.index<n.length&&p.apply(l,c.slice(1)),u=c[0].length,h=s,l.length>=o))break;g.lastIndex===c.index&&g.lastIndex++}return h===n.length?!u&&g.test("")||l.push(""):l.push(n.slice(h)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var a=r(n,t,this,i,n!==e);if(a.done)return a.value;var d=o(t),f=String(this),p=c(d,RegExp),b=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),m=new p(g?d:"^(?:"+d.source+")",y),w=void 0===i?v:i>>>0;if(0===w)return[];if(0===f.length)return null===l(m,f)?[f]:[];var C=0,_=0,S=[];while(_<f.length){m.lastIndex=g?_:0;var x,k=l(m,g?f:f.slice(_));if(null===k||(x=h(u(m.lastIndex+(g?0:_)),f.length))===C)_=s(f,_,b);else{if(S.push(f.slice(C,_)),S.length===w)return S;for(var O=1;O<=k.length-1;O++)if(S.push(k[O]),S.length===w)return S;_=C=x}}return S.push(f.slice(C)),S}]}),!g)},2532:function(t,e,r){"use strict";var n=r("23e7"),i=r("5a34"),o=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"home",staticClass:"home mx-auto"},[r("div",{ref:"overlay-loading",staticClass:"overlay-loading"}),r("div",{staticClass:"search"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-3 col-lg-2 category-wrapper"},[r("div",{staticClass:"side-category"},[r("div",{staticClass:"title"},[t._v("商品分類")]),r("ul",{staticClass:"list-group list-group-flush"},[r("div",{staticClass:"back",on:{click:function(e){return t.$router.push("/products")}}},[r("i",{staticClass:"fas fa-angle-left"}),r("span",{staticClass:"text"},[t._v("所有分類")])])])])]),r("div",{staticClass:"col-12 col-md-9 col-lg-10 card-decks-wrapper d-flex flex-column justify-content-center",class:{"only-one":t.products.length<=t.numCardsRow}},[r("div",{staticClass:"title"},[t._v(t._s("找到"+t.products.length+'件"'+t.$route.query.key+'"的商品'))]),t._l(5,(function(e){return r("div",{key:"row_"+e},[t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length>0?r("div",{staticClass:"card-deck"},[t._l(t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow),(function(e){return r("div",{key:e.id,staticClass:"card my-5",attrs:{id:e.id},on:{click:function(r){return t.$router.push("/product/"+e.id)}}},[r("div",{staticClass:"img-wrapper"},[r("div",{staticClass:"card-img-top",style:"background: url("+e.imageUrl[0]+") no-repeat center/contain;"})]),r("div",{directives:[{name:"show",rawName:"v-show",value:.85>e.price/e.origin_price,expression:"0.85 > item.price/item.origin_price"}],staticClass:"discount-badge"},[t._v(t._s(10*(e.price/e.origin_price).toFixed(1)+" 折")+" ")]),r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-content"},[r("p",{staticClass:"card-title"},[t._v(t._s(e.title))]),r("div",{staticClass:"rating w-100 d-flex align-items-center"},[t._l(e.rating.rate,(function(t,e){return r("span",{key:e,staticClass:"star-item",class:t})})),r("span",{staticClass:"count"},[t._v(t._s("("+e.rating.count+")"))])],2),r("div",{staticClass:"price-wrapper"},[r("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])])])]),r("b-popover",{ref:"popover-"+e.id,refInFor:!0,staticClass:"product-popper",attrs:{target:e.id,triggers:"hover focus",placement:"right"}},[r("div",{staticClass:"popper-wrapper"},[r("div",{staticClass:"popper-title"},[t._v(" "+t._s(e.title)+" ")]),e.options.event?t._e():r("div",[r("span",{staticClass:"btn btn-light popper-badge",on:{click:function(r){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")])]),e.options.event?r("div",[r("span",{staticClass:"btn btn-light popper-badge",on:{click:function(r){return t.$router.push("/search?key="+e.options.subcategory)}}},[t._v(" "+t._s(e.options.subcategory)+" ")]),t._l(e.options.event.split(" "),(function(e,n){return r("span",{key:"event_"+n,staticClass:"btn btn-light popper-badge",on:{click:function(r){return t.$router.push("/search?key="+e)}}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),r("div",{staticClass:"popper-content"},[r("div",{domProps:{innerHTML:t._s(e.content)}})]),r("div",{staticClass:"popper-star"},t._l(e.rating.rate,(function(t,e){return r("span",{key:e,staticClass:"star-item",class:t})})),0),r("div",{staticClass:"popper-price"},[r("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.price)))]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.origin_price>e.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(e.origin_price)))])]),t.cartId.includes(e.id)?t._e():r("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(r){return t.addToCart(e)}}},[r("span",[t._v("放入購物車")])]),t.cartId.includes(e.id)?r("div",{staticClass:"btn d-flex justify-content-center mt-3 mb-3",class:{addToCart:!t.cartId.includes(e.id),goToCheckout:t.cartId.includes(e.id)},on:{click:function(e){return t.$router.push("/cart")}}},[r("span",[t._v("立刻結帳")])]):t._e()])])],1)})),t._l(t.numCardsRow-t.products.slice((e-1)*t.numCardsRow,e*t.numCardsRow).length,(function(t){return r("div",{key:"surplus_"+t,staticClass:"card my-5 border-0 no-use"})}))],2):t._e()])})),r("pagination",{staticClass:"pagination-wrapper",attrs:{pages:t.pagination},on:{"emit-pages":t.getProducts}})],2)]),t._m(0)])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row w-100"},[r("div",{staticClass:"col-0 col-xl-2"})])}],o=(r("99af"),r("4de4"),r("4160"),r("caad"),r("d81d"),r("a9e3"),r("ac1f"),r("2532"),r("1276"),r("159b"),r("6b75"));function a(t){if(Array.isArray(t))return Object(o["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=r("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return a(t)||c(t)||Object(s["a"])(t)||u()}var d=r("3828"),f=(r("bbe3"),r("1799")),p={name:"search",data:function(){return{products:[],cart:{},pagination:{},randomRating:{rate:[],count:Number},windowWidth:window.innerWidth}},components:{pagination:f["a"],"b-popover":d["a"]},computed:{cartId:function(){return this.cart.length>0?this.cart.map((function(t){return t.product.id})):[]},numCardsRow:function(){return this.windowWidth>=576&&this.windowWidth<992?3:this.windowWidth>=992?4:2}},mounted:function(){var t=this;this.getProducts(),this.getCart(),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},beforeRouteUpdate:function(t,e,r){r(),this.getProducts()},methods:{getProducts:function(t){var e=this,r=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1}),n="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/products");this.$http.get(n).then((function(t){var n;e.products=t.data.data;var i=e.products.filter((function(t){return!(!t.options.event||0===t.options.event.length)}));e.products=e.products.filter((function(t){return t.title.includes(e.$route.query.key)||t.options.subcategory.includes(e.$route.query.key)})),(n=e.products).push.apply(n,l(i.filter((function(t){return t.options.event.split(" ").includes(e.$route.query.key)})))),e.products.forEach((function(t){t.rating=e.rating()})),e.pagination=t.data.meta.pagination,r.hide()}))},getCart:function(t){var e=this,r="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping");this.$http.get(r).then((function(r){e.cart=r.data.data,t&&t.hide()}))},addToCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.$loading.show({container:this.$refs.homeWrapper,isFullPage:!0,opacity:1}),i="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping"),o={product:t.id,quantity:r};this.$http.post(i,o).then((function(){e.getCart(n),e.$refs["popover-".concat(t.id)][0].$emit("close")})).catch((function(t){console.log(t)}))},rating:function(){for(var t={rate:[],count:0},e=Math.floor(2.5*(2.5+2*Math.random()))/2,r=0;r<Math.floor(e);r++)t.rate.push("on");e%1!==0&&t.rate.push("half");while(t.rate.length<5)t.rate.push("off");return t.count=Math.floor(50+500*Math.random()),t}}},h=p,v=(r("3de7"),r("2877")),g=Object(v["a"])(h,n,i,!1,null,null,null);e["default"]=g.exports},"3de7":function(t,e,r){"use strict";var n=r("c371"),i=r.n(n);i.a},"44e7":function(t,e,r){var n=r("861d"),i=r("c6b6"),o=r("b622"),a=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},"746f":function(t,e,r){var n=r("428f"),i=r("5135"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},a4d3:function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("d066"),a=r("c430"),c=r("83ab"),s=r("4930"),u=r("fdbf"),l=r("d039"),d=r("5135"),f=r("e8b5"),p=r("861d"),h=r("825a"),v=r("7b0b"),g=r("fc6a"),b=r("c04e"),y=r("5c6c"),m=r("7c73"),w=r("df75"),C=r("241c"),_=r("057f"),S=r("7418"),x=r("06cf"),k=r("9bf2"),O=r("d1e7"),$=r("9112"),j=r("6eeb"),I=r("5692"),R=r("f772"),E=r("d012"),P=r("90e3"),A=r("b622"),T=r("e538"),F=r("746f"),M=r("d44e"),N=r("69f3"),W=r("b727").forEach,q=R("hidden"),J="Symbol",L="prototype",U=A("toPrimitive"),z=N.set,D=N.getterFor(J),H=Object[L],Q=i.Symbol,B=o("JSON","stringify"),G=x.f,K=k.f,V=_.f,X=O.f,Y=I("symbols"),Z=I("op-symbols"),tt=I("string-to-symbol-registry"),et=I("symbol-to-string-registry"),rt=I("wks"),nt=i.QObject,it=!nt||!nt[L]||!nt[L].findChild,ot=c&&l((function(){return 7!=m(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=G(H,e);n&&delete H[e],K(t,e,r),n&&t!==H&&K(H,e,n)}:K,at=function(t,e){var r=Y[t]=m(Q[L]);return z(r,{type:J,tag:t,description:e}),c||(r.description=e),r},ct=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},st=function(t,e,r){t===H&&st(Z,e,r),h(t);var n=b(e,!0);return h(r),d(Y,n)?(r.enumerable?(d(t,q)&&t[q][n]&&(t[q][n]=!1),r=m(r,{enumerable:y(0,!1)})):(d(t,q)||K(t,q,y(1,{})),t[q][n]=!0),ot(t,n,r)):K(t,n,r)},ut=function(t,e){h(t);var r=g(e),n=w(r).concat(ht(r));return W(n,(function(e){c&&!dt.call(r,e)||st(t,e,r[e])})),t},lt=function(t,e){return void 0===e?m(t):ut(m(t),e)},dt=function(t){var e=b(t,!0),r=X.call(this,e);return!(this===H&&d(Y,e)&&!d(Z,e))&&(!(r||!d(this,e)||!d(Y,e)||d(this,q)&&this[q][e])||r)},ft=function(t,e){var r=g(t),n=b(e,!0);if(r!==H||!d(Y,n)||d(Z,n)){var i=G(r,n);return!i||!d(Y,n)||d(r,q)&&r[q][n]||(i.enumerable=!0),i}},pt=function(t){var e=V(g(t)),r=[];return W(e,(function(t){d(Y,t)||d(E,t)||r.push(t)})),r},ht=function(t){var e=t===H,r=V(e?Z:g(t)),n=[];return W(r,(function(t){!d(Y,t)||e&&!d(H,t)||n.push(Y[t])})),n};if(s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),r=function(t){this===H&&r.call(Z,t),d(this,q)&&d(this[q],e)&&(this[q][e]=!1),ot(this,e,y(1,t))};return c&&it&&ot(H,e,{configurable:!0,set:r}),at(e,t)},j(Q[L],"toString",(function(){return D(this).tag})),j(Q,"withoutSetter",(function(t){return at(P(t),t)})),O.f=dt,k.f=st,x.f=ft,C.f=_.f=pt,S.f=ht,T.f=function(t){return at(A(t),t)},c&&(K(Q[L],"description",{configurable:!0,get:function(){return D(this).description}}),a||j(H,"propertyIsEnumerable",dt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),W(w(rt),(function(t){F(t)})),n({target:J,stat:!0,forced:!s},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var r=Q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!c},{create:lt,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(v(t))}}),B){var vt=!s||l((function(){var t=Q();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}));n({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e,(p(e)||void 0!==t)&&!ct(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ct(e))return e}),i[1]=e,B.apply(null,i)}})}Q[L][U]||$(Q[L],U,Q[L].valueOf),M(Q,J),E[q]=!0},ab13:function(t,e,r){var n=r("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},b0c0:function(t,e,r){var n=r("83ab"),i=r("9bf2").f,o=Function.prototype,a=o.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},c371:function(t,e,r){},caad:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").includes,o=r("44d2"),a=r("ae40"),c=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d28b:function(t,e,r){var n=r("746f");n("iterator")},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("e260"),a=r("9112"),c=r("b622"),s=c("iterator"),u=c("toStringTag"),l=o.values;for(var d in i){var f=n[d],p=f&&f.prototype;if(p){if(p[s]!==l)try{a(p,s,l)}catch(v){p[s]=l}if(p[u]||a(p,u,d),i[d])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(v){p[h]=o[h]}}}},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),o=r("da84"),a=r("5135"),c=r("861d"),s=r("9bf2").f,u=r("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var h=p.toString,v="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=h.call(t);if(a(d,t))return"";var r=v?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},e538:function(t,e,r){var n=r("b622");e.f=n},fb6a:function(t,e,r){"use strict";var n=r("23e7"),i=r("861d"),o=r("e8b5"),a=r("23cb"),c=r("50c4"),s=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),f=r("ae40"),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var r,n,l,d=s(this),f=c(d.length),p=a(t,f),h=a(void 0===e?f:e,f);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return g.call(d,p,h);for(n=new(void 0===r?Array:r)(b(h-p,0)),l=0;p<h;p++,l++)p in d&&u(n,l,d[p]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-b0a3ccfc.0dc9091a.js.map