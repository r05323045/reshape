(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-321031ef"],{"141e":function(t,i,s){"use strict";var a=s("885f"),e=s.n(a);e.a},4886:function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"home",staticClass:"home mx-auto"},[s("div",{ref:"overlay-loading",staticClass:"overlay-loading"}),s("div",{staticClass:"category"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3 col-lg-2 category-wrapper"},[s("div",{staticClass:"side-category"},[s("div",{staticClass:"title"},[t._v("商品分類")]),s("ul",{staticClass:"list-group list-group-flush"},[s("div",{staticClass:"back",on:{click:function(i){return t.$router.push("/products")}}},[s("i",{staticClass:"fas fa-angle-left"}),s("span",{staticClass:"text"},[t._v("所有分類")])]),"1"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-utensils"}),t._v(" 廚房餐桌 ")]):t._e(),"2"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-couch"}),t._v(" 空間佈置 ")]):t._e(),"3"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-laptop-house"}),t._v(" 質感生活 ")]):t._e(),"4"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-tshirt"}),t._v(" 品味衣著 ")]):t._e(),"5"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-pencil-ruler"}),t._v(" 文具小物 ")]):t._e(),"6"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-cocktail"}),t._v(" 食品飲料 ")]):t._e(),"7"===t.$route.query.n?s("li",{staticClass:"list-group-item"},[s("i",{staticClass:"fas fa-hiking"}),t._v(" 戶外休閒 ")]):t._e()])])]),s("div",{staticClass:"col-12 col-md-9 col-lg-10 card-decks-wrapper d-flex flex-column justify-content-center",class:{"only-one":t.products.length<=t.numCardsRow}},[s("div",{staticClass:"title"},[t._v(t._s(t.name[t.$route.query.n]))]),t._l(Math.ceil(t.products.length/t.numCardsRow),(function(i){return s("div",{key:"row_"+i},[t.products.slice((i-1)*t.numCardsRow,i*t.numCardsRow).length>0?s("div",{staticClass:"card-deck"},[t._l(t.products.slice((i-1)*t.numCardsRow,i*t.numCardsRow),(function(i){return s("div",{key:i.id,staticClass:"card my-5",attrs:{id:i.id},on:{click:function(s){return t.$router.push("/product/"+i.id)}}},[s("div",{staticClass:"img-wrapper"},[s("div",{staticClass:"card-img-top",style:"background: url("+i.imageUrl[0]+") no-repeat center/contain;"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:.85>i.price/i.origin_price,expression:"0.85 > item.price/item.origin_price"}],staticClass:"discount-badge"},[t._v(t._s(10*(i.price/i.origin_price).toFixed(1)+" 折")+" ")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-content"},[s("p",{staticClass:"card-title"},[t._v(t._s(i.title))]),s("div",{staticClass:"rating w-100 d-flex align-items-center"},[t._l(i.rating.rate,(function(t,i){return s("span",{key:i,staticClass:"star-item",class:t})})),s("span",{staticClass:"count"},[t._v(t._s("("+i.rating.count+")"))])],2),s("div",{staticClass:"price-wrapper"},[s("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(i.price)))]),s("span",{directives:[{name:"show",rawName:"v-show",value:i.origin_price>i.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(i.origin_price)))])])])]),s("popover",{attrs:{product:i,windowWidth:t.windowWidth,cartId:t.cartId},on:{getCart:t.getCart}})],1)})),t._l(t.numCardsRow-t.products.slice((i-1)*t.numCardsRow,i*t.numCardsRow).length,(function(t){return s("div",{key:"surplus_"+t,staticClass:"card my-5 border-0 no-use"})}))],2):t._e()])}))],2)]),t._m(0)])])},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"row w-100"},[s("div",{staticClass:"col-0 col-xl-2"})])}],r=(s("99af"),s("4de4"),s("4160"),s("d81d"),s("b0c0"),s("a9e3"),s("159b"),s("bbe3"),s("cc8d")),c={name:"category",data:function(){return{name:{1:"廚房餐桌",2:"空間佈置",3:"質感生活",4:"品味衣著",5:"文具小物",6:"食品飲料",7:"戶外休閒"},products:[],cart:{},randomRating:{rate:[],count:Number},windowWidth:window.innerWidth}},components:{popover:r["a"]},computed:{cartId:function(){return this.cart.length>0?this.cart.map((function(t){return t.product.id})):[]},numCardsRow:function(){return this.windowWidth>=576&&this.windowWidth<992?3:this.windowWidth>=992?4:2}},created:function(){},mounted:function(){var t=this;this.getProducts(),this.getCart(),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},beforeRouteUpdate:function(t,i,s){s(),this.getProducts()},methods:{getProducts:function(t){var i=this,s=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),a="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/products?paged=999");this.$http.get(a).then((function(t){i.products=t.data.data,i.products=i.products.filter((function(t){return t.category===i.name[i.$route.query.n]})),i.products.forEach((function(t){t.rating=i.rating()})),s.hide()}))},getCart:function(t){var i=this,s="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping");this.$http.get(s).then((function(s){i.cart=s.data.data,i.$bus.$emit("cartUpdate",{cart:i.cart}),t&&t.hide()}))},rating:function(){for(var t={rate:[],count:0},i=Math.floor(2.5*(2.5+2*Math.random()))/2,s=0;s<Math.floor(i);s++)t.rate.push("on");i%1!==0&&t.rate.push("half");while(t.rate.length<5)t.rate.push("off");return t.count=Math.floor(50+500*Math.random()),t}}},n=c,o=(s("141e"),s("2877")),u=Object(o["a"])(n,a,e,!1,null,null,null);i["default"]=u.exports},"885f":function(t,i,s){},b0c0:function(t,i,s){var a=s("83ab"),e=s("9bf2").f,r=Function.prototype,c=r.toString,n=/^\s*function ([^ (]*)/,o="name";a&&!(o in r)&&e(r,o,{configurable:!0,get:function(){try{return c.call(this).match(n)[1]}catch(t){return""}}})},bbe3:function(t,i,s){}}]);
//# sourceMappingURL=chunk-321031ef.7ec96926.js.map