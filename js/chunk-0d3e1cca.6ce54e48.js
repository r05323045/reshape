(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d3e1cca"],{1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{directives:[{name:"show",rawName:"v-show",value:t.pages.total_pages>1,expression:"pages.total_pages > 1"}],attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"mt-5 pagination d-flex justify-content-center"},[e("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Go to first page"},on:{click:function(a){return a.preventDefault(),t.emitPages(1)}}},[t._m(0)])]),e("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.pages.current_page,expression:"pages.current_page !== 1"}],staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[t._m(1)])]),e("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page>Math.ceil(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page > Math.ceil(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(2)]),t._l(t.pagesShown,(function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:a===t.pages.current_page,disabled:a===t.pages.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.emitPages(a)}}},[t._v(t._s(a))])])})),e("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page<t.pages.total_pages-Math.floor(t.numOfShown/2)&&t.pages.total_pages>t.numOfShown+1,expression:"pages.current_page < pages.total_pages - Math.floor(numOfShown/2) && pages.total_pages > numOfShown + 1"}],staticClass:"page-item disabled"},[t._m(3)]),e("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[t._m(4)])]),e("li",{directives:[{name:"show",rawName:"v-show",value:t.pages.current_page!==t.pages.total_pages,expression:"pages.current_page !== pages.total_pages"}],staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.emitPages(t.pages.total_pages)}}},[t._m(5)])])],2)])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fas fa-angle-double-left"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fas fa-angle-left"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{"aria-label":"hide pages"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fas fa-angle-right"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fas fa-angle-double-right"})])}],r=(e("a630"),e("3ca3"),{data:function(){return{numOfShown:5}},computed:{pagesShown:function(){var t=this;return this.pages.total_pages<=this.numOfShown+1?Array.from({length:this.pages.total_pages},(function(t,a){return a+1})):this.pages.current_page<Math.ceil(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(t,a){return a+1})):this.pages.current_page>this.pages.total_pages-Math.floor(this.numOfShown/2)?Array.from({length:this.numOfShown},(function(a,e){return e+t.pages.total_pages-t.numOfShown+1})):Array.from({length:this.numOfShown},(function(a,e){return e+t.pages.current_page-Math.floor(t.numOfShown/2)}))}},props:{pages:{type:Object,default:function(){return{}}}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}}),n=r,c=(e("5eaf"),e("2877")),o=Object(c["a"])(n,s,i,!1,null,null,null);a["a"]=o.exports},2532:function(t,a,e){"use strict";var s=e("23e7"),i=e("5a34"),r=e("1d80"),n=e("ab13");s({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"2aa4":function(t,a,e){},"3ca3":function(t,a,e){"use strict";var s=e("6547").charAt,i=e("69f3"),r=e("7dd0"),n="String Iterator",c=i.set,o=i.getterFor(n);r(String,"String",(function(t){c(this,{type:n,string:String(t),index:0})}),(function(){var t,a=o(this),e=a.string,i=a.index;return i>=e.length?{value:void 0,done:!0}:(t=s(e,i),a.index+=t.length,{value:t,done:!1})}))},"44e7":function(t,a,e){var s=e("861d"),i=e("c6b6"),r=e("b622"),n=r("match");t.exports=function(t){var a;return s(t)&&(void 0!==(a=t[n])?!!a:"RegExp"==i(t))}},"4df4":function(t,a,e){"use strict";var s=e("0366"),i=e("7b0b"),r=e("9bdd"),n=e("e95a"),c=e("50c4"),o=e("8418"),l=e("35a1");t.exports=function(t){var a,e,u,p,d,g,f=i(t),h="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,w=void 0!==m,_=l(f),C=0;if(w&&(m=s(m,v>2?arguments[2]:void 0,2)),void 0==_||h==Array&&n(_))for(a=c(f.length),e=new h(a);a>C;C++)g=w?m(f[C],C):f[C],o(e,C,g);else for(p=_.call(f),d=p.next,e=new h;!(u=d.call(p)).done;C++)g=w?r(p,m,[u.value,C],!0):u.value,o(e,C,g);return e.length=C,e}},"5a34":function(t,a,e){var s=e("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5eaf":function(t,a,e){"use strict";var s=e("2aa4"),i=e.n(s);i.a},7828:function(t,a,e){"use strict";var s=e("a4e7"),i=e.n(s);i.a},8247:function(t,a,e){"use strict";var s=e("eba7"),i=e.n(s);i.a},a4e7:function(t,a,e){},a630:function(t,a,e){var s=e("23e7"),i=e("4df4"),r=e("1c7e"),n=!r((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:n},{from:i})},ab13:function(t,a,e){var s=e("b622"),i=s("match");t.exports=function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[i]=!1,"/./"[t](a)}catch(s){}}return!1}},caad:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").includes,r=e("44d2"),n=e("ae40"),c=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e6dc:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"home-warpper",staticClass:"home-wrapper"},[e("div",{ref:"overlay-loading",staticClass:"overlay-loading"}),e("div",{ref:"home",staticClass:"home mx-auto"},[e("div",{staticClass:"products"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 col-lg-2 category-wrapper"},[e("div",{staticClass:"products-category"},[e("div",{staticClass:"title"},[t._v("商品分類")]),e("ul",{staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=1")}}},[e("i",{staticClass:"fas fa-utensils"}),t._v(" 廚房餐桌 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=2")}}},[e("i",{staticClass:"fas fa-couch"}),t._v(" 空間佈置 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=3")}}},[e("i",{staticClass:"fas fa-laptop-house"}),t._v(" 質感生活 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=4")}}},[e("i",{staticClass:"fas fa-tshirt"}),t._v(" 品味衣著 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=5")}}},[e("i",{staticClass:"fas fa-pencil-ruler"}),t._v(" 文具小物 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=6")}}},[e("i",{staticClass:"fas fa-cocktail"}),t._v(" 食品飲料 ")]),e("li",{staticClass:"list-group-item",on:{click:function(a){return t.$router.push("/category?n=7")}}},[e("i",{staticClass:"fas fa-hiking"}),t._v(" 戶外休閒 ")])])])]),e("div",{staticClass:"col-12 col-md-9 col-lg-10 d-flex justify-content-center"},[t.products.length>0?e("div",{staticClass:"hot-sales w-100 row d-flex align-items-center"},[e("div",{staticClass:"col-12 col-sm-6 hot-swiper-wrapper"},[e("div",{staticClass:"outer-title"},[t._v("本月熱賣 TOP 5")]),e("hot-swiper",{attrs:{products:t.hotProducts}})],1),e("div",{staticClass:"col-12 col-sm-6 rank-wrapper"},[e("div",{staticClass:"title"},[t._v("本月熱賣 TOP 5")]),e("ul",{staticClass:"list-group list-group-flush"},t._l(t.hotProducts,(function(a,s){return e("li",{key:"top-5-"+a.id,staticClass:"list-group-item d-flex flex-row",on:{click:function(e){return t.$router.push("/product/"+a.id)}}},[e("div",{staticClass:"rank"},[t._v(t._s("0"+(s+1)))]),e("div",{staticClass:"image-wrapper"},[e("div",{staticClass:"image",style:"background: url("+a.imageUrl[0]+") no-repeat center/contain;"})]),e("span",{staticClass:"title"},[t._v(t._s(a.title))])])})),0)])]):t._e()])]),e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-0 col-xl-2"}),e("div",{staticClass:"card-decks-wrapper col-12 col-xl-10"},[e("div",{staticClass:"title"},[t._v("熱賣商品")]),t._l(Math.ceil(t.products.length/t.numCardsRow),(function(a){return e("div",{key:"row_"+a},[t.products.slice((a-1)*t.numCardsRow,a*t.numCardsRow).length>0?e("div",{staticClass:"card-deck"},[t._l(t.products.slice((a-1)*t.numCardsRow,a*t.numCardsRow),(function(a){return e("div",{key:a.id,staticClass:"card my-5",attrs:{id:a.id},on:{click:function(e){return t.$router.push("/product/"+a.id)}}},[e("div",{staticClass:"img-wrapper"},[e("div",{staticClass:"card-img-top",style:"background: url("+a.imageUrl[0]+") no-repeat center/contain;"})]),e("div",{directives:[{name:"show",rawName:"v-show",value:.85>a.price/a.origin_price,expression:"0.85 > item.price/item.origin_price"}],staticClass:"discount-badge"},[t._v(t._s(10*(a.price/a.origin_price).toFixed(1)+" 折")+" ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"card-content"},[e("p",{staticClass:"card-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"rating w-100 d-flex align-items-center"},[t._l(a.rating.rate,(function(t,a){return e("span",{key:a,staticClass:"star-item",class:t})})),e("span",{staticClass:"count"},[t._v(t._s("("+a.rating.count+")"))])],2),e("div",{staticClass:"price-wrapper"},[e("span",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(a.price)))]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.origin_price>a.price,expression:"item.origin_price > item.price"}],staticClass:"original-price"},[t._v(t._s(t._f("priceFormat")(a.origin_price)))])])])]),e("popover",{attrs:{product:a,windowWidth:t.windowWidth,cartId:t.cartId},on:{getCart:t.getCart}})],1)})),t._l(t.numCardsRow-t.products.slice((a-1)*t.numCardsRow,a*t.numCardsRow).length,(function(t){return e("div",{key:"surplus_"+t,staticClass:"card my-5 border-0 no-use"})}))],2):t._e()])})),e("pagination",{staticClass:"pagination-wrapper",attrs:{pages:t.pagination},on:{"emit-pages":t.getProducts}})],2)])])])])},i=[],r=(e("99af"),e("4160"),e("caad"),e("d81d"),e("2532"),e("159b"),e("7de3")),n=e.n(r),c=(e("bbe3"),e("cc8d")),o=e("1799"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.products.slice(0,5),(function(a,s){return e("div",{key:"top-5-swiper-"+a.id,staticClass:"swiper-slide",style:"background: url("+a.imageUrl[0]+") no-repeat center/contain;",on:{click:function(e){return t.$router.push("/product/"+a.id)}}},[e("div",{staticClass:"title"},[e("div",{staticClass:"rank"},[t._v(t._s("0"+(s+1)+" |"))]),e("div",{staticClass:"name"},[t._v(t._s(a.title))])])])})),0),e("div",{staticClass:"swiper-pagination"})])])},u=[],p={data:function(){return{}},props:{products:Array},mounted:function(){new n.a(".swiper-container",{centeredSlides:!0,spaceBetween:"1%",autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(t,a){return'<span class="'+a+'">'+(t+1)+"</span>"}}})}},d=p,g=(e("7828"),e("2877")),f=Object(g["a"])(d,l,u,!1,null,null,null),h=f.exports,v={name:"products",data:function(){return{products:[],hotProducts:[],cart:{},pagination:{},isLoading:!1,windowWidth:window.innerWidth}},components:{pagination:o["a"],hotSwiper:h,popover:c["a"]},computed:{cartId:function(){return this.cart.length>0?this.cart.map((function(t){return t.product.id})):[]},numCardsRow:function(){return this.windowWidth>=576&&this.windowWidth<768?3:this.windowWidth>=768?4:2}},created:function(){var t=this;this.getProducts(),this.getCart(),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},methods:{getSwiper:function(){this.mySwiper=new n.a(".hot-sales.swiper-container",{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(t,a){return'<span class="'+a+'">'+(t+1)+"</span>"}}})},getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.$loading.show({container:this.$refs.overlayLoading,isFullPage:!0,opacity:1},{default:this.$createElement("MyLoading")}),s="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/products?paged=16&page=").concat(a);this.$http.get(s).then((function(s){if(t.products=s.data.data,t.products.forEach((function(a){a.rating=t.rating()})),1===a&&0===t.hotProducts.length)for(var i=0;i<5;i++){var r=t.products[Math.floor(Math.random()*t.products.length)],n=t.hotProducts.map((function(t){return t.id}));n.includes(r.id)?i-=1:t.hotProducts.push(r)}t.getSwiper(),t.pagination=s.data.meta.pagination,e.hide(),window.scrollTo(0,0)}))},getCart:function(t){var a=this,e="".concat("https://course-ec-api.hexschool.io/","api/").concat("765c633d-f16f-4821-90b7-1588004cb252","/ec/shopping");this.$http.get(e).then((function(e){a.cart=e.data.data,a.$bus.$emit("cartUpdate",{cart:a.cart}),t&&t.hide()}))},rating:function(){for(var t={rate:[],count:0},a=Math.floor(2.5*(2.5+2*Math.random()))/2,e=0;e<Math.floor(a);e++)t.rate.push("on");a%1!==0&&t.rate.push("half");while(t.rate.length<5)t.rate.push("off");return t.count=Math.floor(50+500*Math.random()),t}}},m=v,w=(e("8247"),Object(g["a"])(m,s,i,!1,null,null,null));a["default"]=w.exports},eba7:function(t,a,e){}}]);
//# sourceMappingURL=chunk-0d3e1cca.6ce54e48.js.map