{"remainingRequest":"/Users/apple/Desktop/git/vue_cli_try/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/git/vue_cli_try/src/views/Checkout.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/apple/Desktop/git/vue_cli_try/src/views/Checkout.vue","mtime":1596375671737},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/git/vue_cli_try/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNoZWNrb3V0ewogIG1hcmdpbi10b3A6IDgwcHg7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiB2aXNpYmxlOwogIG1heC1oZWlnaHQ6IG5vbmU7CiAgbWF4LXdpZHRoOiAxMTQwcHg7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAucm91dGVyLXdyYXBwZXIgewogICAgLnJvdXRlciB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGNvbG9yOiAjMTA1NjdiOwogICAgfQogICAgLnJvdXRlcjpob3ZlciB7CiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgfQogICAgLmZhLWNoZXZyb24tbGVmdCB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgY29sb3I6ICMyZTkwYjc7CiAgICB9CiAgfQogIC5jYXJ0LXN0ZXAtd3JhcHBlciB7CiAgICAuY2FydC1zdGVwIHsKICAgICAgd2lkdGg6IDMwMHB4OwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB9CiAgICAuY2FydC1zdGVwLWljb24gewogICAgICAgIHotaW5kZXg6IDk5OTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTA1NjdiOwogICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICB3aWR0aDogNTBweDsKICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICB9CiAgICAuY2FydC1zdGVwLXRleHQgewogICAgICAgIHBhZGRpbmctbGVmdDogMTVweDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4OwogICAgICAgIHotaW5kZXg6IDk5OTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICB9CiAgICAuY2hlY2tvdXQtc3RlcC1pY29uIHsKICAgICAgICB6LWluZGV4OiA5OTk7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEwNTY3YjsKICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgaGVpZ2h0OiA1MHB4OwogICAgfQogICAgLmNoZWNrb3V0LXN0ZXAtdGV4dCB7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAxNXB4OwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgICAgICAgei1pbmRleDogOTk5OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBjb2xvcjogIzAwMDAwMAogICAgfQogICAgLmNvbm5lY3Rvci1saW5lIHsKICAgICAgICB6LWluZGV4OiAxOwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICBsZWZ0OiAwOwogICAgICAgIHRvcDogMjNweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTA1NjdiOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMnB4OwogICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICB9CiAgfQogIC5jaGVja291dC1mb3JtIHsKICAgIC5jaGVja291dC1zdWJtaXQgewogICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEwNTY3YjsKICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgfQogICAgLmNoZWNrb3V0LXN1Ym1pdDpob3ZlciwgLmNoZWNrb3V0LXN1Ym1pdDpmb2N1cywgLmNoZWNrb3V0LXN1Ym1pdDphY3RpdmU6aG92ZXIgewogICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzA5MmMzZjsKICAgIH0KICB9CiAgLm1vZGFsIHsKICAgIC5tb2RhbC1jb250ZW50IHsKICAgICAgYm9yZGVyOiAwIG5vbmU7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIC5tb2RhbC1ib2R5IHsKICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIGxpbmUtaGVpZ2h0OiA3MnB4OwogICAgICB9CiAgICB9CiAgICAuYnRuIHsKICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgfQogIH0KfQo="},{"version":3,"sources":["Checkout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Checkout.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"checkout\" ref=\"checkout\">\n    <div class=\"router-wrapper mt-3\">\n        <i class=\"fas fa-chevron-left\" @click=\"backToCart\"></i>\n        <span class=\"mx-2 router\" @click=\"backToCart\">返回購物車</span>\n    </div>\n    <div class=\"my-5 cart-step-wrapper d-flex justify-content-center mx-auto\">\n      <div class=\"cart-step row\">\n        <div class=\"cart-step-icon\">1</div>\n        <div class=\"cart-step-text\">\n            <div>購買品項</div>\n        </div>\n        <div class=\"connector-line\"></div>\n      </div>\n      <div class=\"checkout-step row\">\n        <div class=\"checkout-step-icon\">2</div>\n        <div class=\"checkout-step-text\">填寫地址與結帳</div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"mt-5 col-4 offset-1 cart-summary\" v-if=\"cart.length\">\n        <div class=\"card cart-card mx-auto\">\n          <div class=\"card-header\">\n            訂單摘要\n          </div>\n          <div class=\"card-body d-flex flex-column\">\n            <ul class=\"list-group h-100\">\n              <li class=\"list-group-item d-flex justify-content-between\">\n                <span>商品總計</span>\n                <span>{{ cartTotal | priceFormat}}</span>\n              </li>\n              <li class=\"list-group-item d-flex justify-content-between\">\n                <span>運費總計</span>\n                <span>NT$ 0</span>\n              </li>\n              <div class=\"divider-wrapper\">\n                <div class=\"divider\"></div>\n              </div>\n              <div class=\"list-group-item d-flex w-100 mt-3\">\n                <div class=\"cart-total w-100 d-flex justify-content-between\">\n                    <span>結帳金額</span>\n                    <span>{{ cartTotal | priceFormat}}</span>\n                </div>\n              </div>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-3 col-6 justify-content-center checkout-form\">\n        <validation-observer ref=\"formvalidation\" v-slot=\"{ invalid }\" class=\"col-md-6\">\n          <form ref=\"checkoutform\" @submit.prevent=\"createOrder\">\n            <div class=\"form-group\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"username\">收件人姓名</label>\n                <input id=\"username\" v-model=\"form.name\" type=\"text\" class=\"form-control\" :class=\"classes\">\n                <span v-if=\"errors[0]\" class=\"text-danger\">{{ `收件人姓名${errors[0].slice(9, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"email\">Email</label>\n                <input id=\"email\" v-model=\"form.email\" type=\"email\" class=\"form-control\" :class=\"classes\">\n                <span v-if=\"errors[0]\" class=\"text-danger\">{{ `Email${errors[0].slice(6, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group\">\n              <validation-provider  v-slot=\"{ errors, classes }\" rules=\"required|numeric|min:8\">\n                <label for=\"tel\">電話</label>\n                <input id=\"tel\" v-model=\"form.tel\" type=\"tel\" class=\"form-control\" :class=\"classes\">\n                <span v-if=\"errors[0]\" class=\"text-danger\">{{ `電話${errors[0].slice(4, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"address\">地址</label>\n                <input id=\"address\" v-model=\"form.address\" type=\"text\" class=\"form-control\" :class=\"classes\">\n                <span v-if=\"errors[0]\" class=\"text-danger\">{{ `地址${errors[0].slice(8, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"message\">購買方式</label>\n                <select id=\"payment\" v-model=\"form.payment\" class=\"form-control\" :class=\"classes\" required>\n                  <option value=\"\" disabled>\n                    請選擇付款方式\n                  </option>\n                  <option value=\"WebATM\">\n                    WebATM\n                  </option>\n                  <option value=\"ATM\">\n                    ATM\n                  </option>\n                  <option value=\"CVS\">\n                    CVS\n                  </option>\n                  <option value=\"Barcode\">\n                    Barcode\n                  </option>\n                  <option value=\"Credit\">\n                    Credit\n                  </option>\n                  <option value=\"ApplePay\">\n                    ApplePay\n                  </option>\n                  <option value=\"GooglePay\">\n                    GooglePay\n                  </option>\n                </select>\n                <span v-if=\"errors[0]\" class=\"text-danger\">{{ `購買方式${errors[0].slice(8, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"message\">留言</label>\n              <textarea id=\"message\" v-model=\"form.message\" class=\"form-control\" cols=\"30\" rows=\"3\"></textarea>\n            </div>\n            <div class=\"text-right\">\n              <button type=\"submit\" class=\"btn checkout-submit\" :disabled=\"invalid\">\n                送出\n              </button>\n            </div>\n          </form>\n        </validation-observer>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nexport default {\n  name: 'Checkout',\n  data () {\n    return {\n      form: {\n        name: '',\n        email: '',\n        tel: '',\n        address: '',\n        payment: '',\n        message: ''\n      }\n    }\n  },\n  props: {\n    cart: {}\n  },\n  computed: {\n    cartTotal: function () {\n      let total = 0\n      this.cart.forEach((item) => {\n        total += item.product.price * item.quantity\n      })\n      return total\n    }\n  },\n  methods: {\n    backToCart () {\n      this.$emit('backtocart')\n    },\n    createOrder () {\n      const loader = this.$loading.show({\n        container: this.$refs.checkout,\n        opacity: 1,\n        isFullPage: true\n      })\n      const url = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/orders`\n      this.$http.post(url, this.form)\n        .then((response) => {\n          if (response.data.data.id) {\n            Object.keys(this.form).forEach(item => { item = '' })\n            this.$refs.formvalidation.reset()\n            this.$refs.checkoutform.reset()\n            $('#orderModal').modal('show')\n          }\n          this.$router.push('/')\n          this.$bus.$emit('cartUpdate', {\n            cart: {}\n          })\n          loader.hide()\n        }).catch((error) => {\n          console.log(error)\n          this.$router.push('/')\n          loader.hide()\n        })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.checkout{\n  margin-top: 80px;\n  height: 100%;\n  overflow: visible;\n  max-height: none;\n  max-width: 1140px;\n  background: #ffffff;\n  .router-wrapper {\n    .router {\n      width: 100%;\n      cursor: pointer;\n      color: #10567b;\n    }\n    .router:hover {\n      text-decoration: underline;\n    }\n    .fa-chevron-left {\n      cursor: pointer;\n      color: #2e90b7;\n    }\n  }\n  .cart-step-wrapper {\n    .cart-step {\n      width: 300px;\n      position: relative;\n    }\n    .cart-step-icon {\n        z-index: 999;\n        text-align: center;\n        vertical-align: middle;\n        line-height: 50px;\n        background-color: #10567b;\n        color: #ffffff;\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n    }\n    .cart-step-text {\n        padding-left: 15px;\n        padding-right: 10px;\n        z-index: 999;\n        background-color: #ffffff;\n        display: inline-block;\n        text-align: center;\n        vertical-align: middle;\n        line-height: 50px;\n        height: 50px;\n    }\n    .checkout-step-icon {\n        z-index: 999;\n        text-align: center;\n        vertical-align: middle;\n        line-height: 50px;\n        background-color: #10567b;\n        color: #ffffff;\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n    }\n    .checkout-step-text {\n        padding-left: 15px;\n        padding-right: 10px;\n        z-index: 999;\n        background-color: #ffffff;\n        display: inline-block;\n        text-align: center;\n        vertical-align: middle;\n        line-height: 50px;\n        height: 50px;\n        color: #000000\n    }\n    .connector-line {\n        z-index: 1;\n        position: absolute;\n        left: 0;\n        top: 23px;\n        background-color: #10567b;\n        width: 100%;\n        height: 2px;\n        vertical-align: middle;\n    }\n  }\n  .checkout-form {\n    .checkout-submit {\n      color: #ffffff;\n      background-color: #10567b;\n      text-decoration: none;\n    }\n    .checkout-submit:hover, .checkout-submit:focus, .checkout-submit:active:hover {\n      color: #ffffff;\n      background-color: #092c3f;\n    }\n  }\n  .modal {\n    .modal-content {\n      border: 0 none;\n      border-radius: 10px;\n      .modal-body {\n        vertical-align: middle;\n        line-height: 72px;\n      }\n    }\n    .btn {\n      border-radius: 5px;\n    }\n  }\n}\n</style>\n"]}]}